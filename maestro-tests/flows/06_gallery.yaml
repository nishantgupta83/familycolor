# Test: Gallery Workflow
# ======================
# Tests the gallery tab and artwork management

appId: com.familycolorfun.app
name: Gallery Tests
tags:
  - gallery
  - artwork

---

# Launch app
- launchApp
- assertVisible: "Category"

# Navigate to Gallery tab
- tapOn:
    id: "photo.stack.fill"

# Wait for gallery to load
- extendedWaitUntil:
    visible: "My Masterpieces"
    timeout: 5000

# Take screenshot of gallery
- takeScreenshot: screenshots/06_gallery

# Check for empty state OR artwork cards
- runFlow:
    when:
      visible: "No artwork yet!"
    commands:
      - assertVisible: "Start coloring to fill your gallery"
      - takeScreenshot: screenshots/06_gallery_empty
      - runScript:
          script: |
            console.log("Gallery is empty - showing empty state")

- runFlow:
    when:
      notVisible: "No artwork yet!"
    commands:
      # Gallery has artwork
      - assertVisible: "masterpiece"
      # Verify badge system
      - assertVisible:
          anyOf:
            - "Beginner Artist"
            - "Rising Star"
            - "Color Champion"
            - "Master Artist"
      - takeScreenshot: screenshots/06_gallery_with_artwork
      - runScript:
          script: |
            console.log("Gallery has artwork - verified badge system")

# Go back to Home tab
- tapOn:
    id: "paintpalette.fill"

- assertVisible: "Category"

# Test passed
- runScript:
    script: |
      console.log("âœ… Gallery test passed")
