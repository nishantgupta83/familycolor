# Test: End-to-End Complete Workflow
# ==================================
# Full user journey from launch to completion

appId: com.familycolorfun.app
name: End-to-End Workflow Test
tags:
  - e2e
  - complete
  - journey

---

# 1. Launch App
- launchApp
- assertVisible: "Category"
- takeScreenshot: screenshots/12_e2e_01_home

# 2. Check Gallery (should be empty or have artwork)
- tapOn:
    id: "photo.stack.fill"
- assertVisible: "My Masterpieces"
- takeScreenshot: screenshots/12_e2e_02_gallery

# 3. Go back to Home and open Settings
- tapOn:
    id: "paintpalette.fill"
- tapOn:
    id: "gearshape.fill"
- assertVisible: "Settings"

# 4. Change color palette
- tapOn: "Pastel"
- takeScreenshot: screenshots/12_e2e_03_settings

# 5. Close settings
- tapOn: "Done"

# 6. Navigate to a category
- tapOn: "Animals"
- assertVisible: "Animals"
- takeScreenshot: screenshots/12_e2e_04_category

# 7. Open a coloring page
- tapOn:
    index: 0
- extendedWaitUntil:
    visible: "Fill"
    timeout: 5000
- takeScreenshot: screenshots/12_e2e_05_canvas_start

# 8. Color multiple regions
- tapOn:
    point: "30%,30%"
- tapOn:
    point: "50%,50%"
- tapOn:
    point: "70%,40%"
- tapOn:
    point: "40%,70%"
- takeScreenshot: screenshots/12_e2e_06_canvas_coloring

# 9. Switch to Draw mode
- tapOn: "Draw"
- takeScreenshot: screenshots/12_e2e_07_draw_mode

# 10. Switch back to Fill mode
- tapOn: "Fill"

# 11. Test zoom
- tapOn:
    id: "plus"
- takeScreenshot: screenshots/12_e2e_08_zoomed

# 12. Reset zoom
- tapOn: "150%"

# 13. Test color help
- tapOn:
    id: "questionmark.circle.fill"
    optional: true
- takeScreenshot: screenshots/12_e2e_09_suggestions

# 14. Dismiss suggestions if shown
- tapOn:
    id: "xmark.circle.fill"
    optional: true

# 15. Exit with save dialog
- tapOn:
    id: "chevron.left"
- takeScreenshot: screenshots/12_e2e_10_exit_dialog

# 16. Choose to exit without saving
- tapOn: "Exit without saving"
  optional: true

# 17. Verify back at category
- assertVisible: "Animals"
- takeScreenshot: screenshots/12_e2e_11_back_category

# 18. Return to home
- tapOn:
    id: "chevron.left"
- assertVisible: "Category"
- takeScreenshot: screenshots/12_e2e_12_final_home

# Test complete
- runScript:
    script: |
      console.log("âœ… End-to-end workflow test PASSED!")
      console.log("Completed full user journey:")
      console.log("  1. App launch")
      console.log("  2. Gallery check")
      console.log("  3. Settings modification")
      console.log("  4. Category navigation")
      console.log("  5. Canvas coloring")
      console.log("  6. Mode switching")
      console.log("  7. Zoom controls")
      console.log("  8. Color suggestions")
      console.log("  9. Exit flow")
