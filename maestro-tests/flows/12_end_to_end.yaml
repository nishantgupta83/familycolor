# Test: End-to-End Complete Workflow
# ==================================
# Full user journey from launch to completion

appId: com.familycolorfun.app

---

# 1. Launch App
- launchApp
- assertVisible: "Category"
- takeScreenshot: screenshots/12_e2e_01_home

# 2. Check Gallery
- tapOn:
    point: "75%,96%"
- extendedWaitUntil:
    visible: ".*"
    timeout: 5000
- takeScreenshot: screenshots/12_e2e_02_gallery

# 3. Go back to Home
- tapOn:
    point: "25%,96%"

# 4. Open Settings
- tapOn:
    point: "92%,8%"
- extendedWaitUntil:
    visible: "Color Palette"
    timeout: 5000

# 5. Change color palette
- tapOn: "Pastel"
- takeScreenshot: screenshots/12_e2e_03_settings

# 6. Close settings
- tapOn: "Done"

# 7. Navigate to Animals category (no scroll needed)
- tapOn: "Animals"
- assertVisible: "Animals"

# Wait for grid
- extendedWaitUntil:
    visible: ".*"
    timeout: 3000

- takeScreenshot: screenshots/12_e2e_04_category

# 8. Open a coloring page (first one)
- tapOn:
    point: "25%,35%"
- extendedWaitUntil:
    visible: "Fill"
    timeout: 5000
- takeScreenshot: screenshots/12_e2e_05_canvas

# 9. Color with different colors
# Select green (5th color for nature)
- tapOn:
    point: "42%,92%"
- tapOn:
    point: "40%,40%"

# Select brown (11th color for tree trunk)
- tapOn:
    point: "85%,92%"
- tapOn:
    point: "50%,60%"

# Select yellow (3rd color for sun/flowers)
- tapOn:
    point: "25%,92%"
- tapOn:
    point: "65%,35%"

- takeScreenshot: screenshots/12_e2e_06_colored

# 10. Switch to Draw mode
- tapOn: "Draw"
- takeScreenshot: screenshots/12_e2e_07_draw

# 11. Switch back to Fill mode
- tapOn: "Fill"

# 12. Exit canvas (swipe from left edge)
- swipe:
    start: "1%,50%"
    end: "80%,50%"
    duration: 300
- takeScreenshot: screenshots/12_e2e_08_exit_dialog

# 13. Exit without saving
- tapOn:
    text: "Exit without saving"
    optional: true

# 14. Verify back at category
- extendedWaitUntil:
    visible: "Animals"
    timeout: 3000
    optional: true

# 15. Return to home (swipe from left edge)
- swipe:
    start: "1%,50%"
    end: "80%,50%"
    duration: 300
- extendedWaitUntil:
    visible: "Category"
    timeout: 3000
    optional: true
- takeScreenshot: screenshots/12_e2e_09_final
