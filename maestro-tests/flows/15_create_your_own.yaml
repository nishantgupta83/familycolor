# Test: Create Your Own (Photo Upload) Workflow
# ==============================================
# Tests uploading a photo and converting to coloring page

appId: com.familycolorfun.app

---

# Launch app
- launchApp
- assertVisible: "Category"

# Take screenshot of home with "Create Your Own" button visible
- takeScreenshot: screenshots/15_create_01_home

# Tap on "Create Your Own!" button (visible on home screen)
- tapOn: "Create Your Own!"

# Wait for photo upload screen
- extendedWaitUntil:
    visible: ".*"
    timeout: 5000

- takeScreenshot: screenshots/15_create_02_upload_screen

# Look for photo selection options
- tapOn:
    text: "Photo Library"
    optional: true
- tapOn:
    text: "Choose"
    optional: true

- extendedWaitUntil:
    visible: ".*"
    timeout: 3000

- takeScreenshot: screenshots/15_create_03_options

# If photo picker opens, try to select first image
- tapOn:
    point: "25%,35%"
    optional: true

- extendedWaitUntil:
    visible: ".*"
    timeout: 3000

- takeScreenshot: screenshots/15_create_04_selected

# Close/dismiss any dialogs
- tapOn:
    text: "Cancel"
    optional: true
- tapOn:
    text: "Done"
    optional: true

# Go back home
- swipe:
    start: "3%,50%"
    end: "95%,50%"
    duration: 500

- extendedWaitUntil:
    visible: "Category"
    timeout: 3000
    optional: true
